## âœ… ä¸€ã€ä»€ä¹ˆæ˜¯é‡Œæ°æ›¿æ¢åŸåˆ™ï¼Ÿ

> **LSP æ˜¯ SOLID äº”å¤§è®¾è®¡åŸåˆ™ä¸­çš„ç¬¬ä¸‰ä¸ªåŸåˆ™** ï¼Œç”± **Barbara Liskov æ•™æˆ** åœ¨ 1987 å¹´æå‡ºã€‚

### ğŸŒŸ å®šä¹‰ï¼š

> å¦‚æœå¯¹æ¯ä¸€ä¸ªç±»å‹ä¸º T1 çš„å¯¹è±¡ o1ï¼Œéƒ½æœ‰ç±»å‹ä¸º T2 çš„å¯¹è±¡ o2ï¼Œä½¿å¾—åœ¨ä¸æ”¹å˜ç¨‹åºæ­£ç¡®æ€§çš„å‰æä¸‹ï¼Œo1 èƒ½è¢« o2 æ›¿æ¢ï¼Œé‚£ä¹ˆ T2 æ˜¯ T1 çš„å­ç±»å‹ã€‚
>
> â€”â€” Barbara Liskov

### âœ… é€šä¿—è§£é‡Šï¼š

> **å­ç±»å¯¹è±¡å¿…é¡»èƒ½å¤Ÿæ›¿æ¢çˆ¶ç±»å¯¹è±¡ï¼Œå¹¶ä¿è¯åŸæœ‰åŠŸèƒ½é€»è¾‘ä¸å‡ºé”™ã€‚**

---

## âœ… äºŒã€ä¸€å¥è¯æ€»ç»“

> **å­ç±»èƒ½å®Œå…¨æ›¿ä»£çˆ¶ç±»å‡ºç°çš„åœ°æ–¹ï¼Œä¸”è¡Œä¸ºæ­£ç¡®ã€ä¸ç ´åè¯­ä¹‰ã€‚**

---

## âœ… ä¸‰ã€ä¸¾ä¸ªç®€å•çš„ C++ ä¾‹å­ï¼ˆâœ… æ­£ç¡®çš„æ›¿ä»£ï¼‰

```c++
class Bird {
public:
    virtual void fly() {
        std::cout << "Bird is flying\n";
    }
};

class Sparrow : public Bird {
public:
    void fly() override {
        std::cout << "Sparrow is flying\n";
    }
};

void letBirdFly(Bird* b) {
    b->fly();  // ä¸ç®¡æ˜¯ Bird è¿˜æ˜¯ Sparrowï¼Œé€»è¾‘ä¸€è‡´
}

int main() {
    Sparrow sp;
    letBirdFly(&sp);  // âœ… æ›¿ä»£æˆç«‹ï¼Œç¬¦åˆé‡Œæ°æ›¿æ¢åŸåˆ™
}

```

---

## âŒ è¿åé‡Œæ°æ›¿æ¢åŸåˆ™çš„ä¾‹å­

```c++
class Bird {
public:
    virtual void fly() {
        std::cout << "Bird is flying\n";
    }
};

class Ostrich : public Bird {
public:
    void fly() override {
        throw std::logic_error("Ostrich can't fly!");  // âŒ ä¸ç¬¦åˆé€»è¾‘
    }
};

```

ğŸ‘ **é—®é¢˜åˆ†æï¼š**

* çˆ¶ç±» Bird çš„ fly() æ„å›¾æ˜¯â€œèƒ½é£â€
* å­ç±» Ostrich å´ä¸èƒ½é£ï¼ŒæŠ›å¼‚å¸¸æˆ–ç©ºå®ç°
* è¿™æ—¶å¦‚æœæŸä¸ªå‡½æ•°ä½¿ç”¨ `Bird*`ï¼Œä¼ å…¥ Ostrich ä¼šé€ æˆå¼‚å¸¸

---

## âœ… è§£å†³æ–¹å¼

å°†é£è¡ŒåŠ¨ä½œæŠ½è±¡æˆç‹¬ç«‹æ¥å£ï¼Œè€Œä¸æ˜¯æ‰€æœ‰ Bird éƒ½ç»§æ‰¿ flyï¼š

```c++
class Bird { };

class IFlyable {
public:
    virtual void fly() = 0;
};

class Sparrow : public Bird, public IFlyable {
public:
    void fly() override {
        std::cout << "Sparrow flies!\n";
    }
};

class Ostrich : public Bird {
    // ä¸å®ç° fly
};

```

ğŸ‘ è¿™æ ·åªæœ‰èƒ½é£çš„é¸Ÿæ‰å®ç° fly æ¥å£ï¼Œé¿å…ä¸ç¬¦åˆè¯­ä¹‰çš„ç»§æ‰¿ã€‚

---

## âœ… å››ã€LSP åœ¨è®¾è®¡ä¸­å¸¸è§çš„ä½“ç°

| åœºæ™¯                       | æ­£ç¡®åšæ³•                           |
| -------------------------- | ---------------------------------- |
| ç»§æ‰¿çˆ¶ç±»åä¸èƒ½å®ç°æ‰€æœ‰åŠŸèƒ½ | æ‹†æ¥å£ï¼ˆISPï¼‰ï¼Œç»„åˆä»£æ›¿ç»§æ‰¿        |
| å­ç±»ä¿®æ”¹çˆ¶ç±»æ–¹æ³•é€»è¾‘       | ä¿è¯ä¸ä¼šç ´åè¯­ä¹‰å’Œé¢„æœŸè¡Œä¸º         |
| å­ç±»æ·»åŠ é™åˆ¶ï¼ˆæ¯”å¦‚å¼‚å¸¸ï¼‰   | æ˜¯å…¸å‹çš„è¿åï¼Œåº”é€šè¿‡ç­–ç•¥æ¨¡å¼ç­‰è§£å†³ |

---

## âœ… äº”ã€LSP å’Œå…¶ä»–è®¾è®¡åŸåˆ™å…³ç³»

* å’Œ **å¼€é—­åŸåˆ™ï¼ˆOCPï¼‰** æ­é…ä½¿ç”¨ï¼šOCP è¦æ±‚æ‰©å±•ä¸æ”¹çˆ¶ç±»ï¼ŒLSP ä¿è¯å­ç±»çš„æ‰©å±•æ˜¯æ­£ç¡®çš„ã€‚
* å’Œ **ä¾èµ–å€’ç½®åŸåˆ™ï¼ˆDIPï¼‰** æ­é…ï¼šé«˜å±‚æ¨¡å—ä¾èµ–æ¥å£ï¼ŒLSP ä¿è¯æ›¿æ¢æ—¶ä»ç„¶æ­£ç¡®ã€‚

---

## âœ… å…­ã€çœŸå®å·¥ç¨‹ä¸­å»ºè®®

| åšæ³•                      | ç†ç”±                                 |
| ------------------------- | ------------------------------------ |
| âœ” æ˜ç¡®ç»§æ‰¿çš„è¯­ä¹‰         | ä¸è¦ç›²ç›®ç»§æ‰¿ï¼Œåªå› â€œä»£ç å¤ç”¨â€       |
| âœ” ç”¨ç»„åˆä¼˜äºç»§æ‰¿         | å½“ä¸ç¡®å®šæ˜¯å¦æ»¡è¶³é‡Œæ°æ›¿æ¢æ—¶ï¼Œè€ƒè™‘ç»„åˆ |
| âœ” å°½é‡ç”¨æ¥å£æŠ½è±¡è¡Œä¸º     | è®©è¡Œä¸ºâ€œæ˜ç¡®â€ï¼Œé¿å…çˆ¶ç±»è¡Œä¸ºæ¨¡ç³Š     |
| âŒ å­ç±»å®ç°ç©ºå‡½æ•°ã€æŠ›å¼‚å¸¸ | æå¯èƒ½æ˜¯è¿åäº† LSP                   |

---

## âœ… ä¸ƒã€ä¸€å¥è¯æ€»ç»“

> **ç»§æ‰¿ä¸ä»…æ˜¯â€œä»£ç å¤ç”¨â€ï¼Œæ›´æ˜¯â€œè¯­ä¹‰å¥‘çº¦â€ â€”â€” å­ç±»å¿…é¡»èƒ½æ›¿ä»£çˆ¶ç±»ï¼Œä¸”è¡Œä¸ºä¸€è‡´ã€‚**
>
